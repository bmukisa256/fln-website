// Prisma schema for FLN Admin Dashboard
// Documentation: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

// Newsletter Subscribers
model Subscriber {
  id           Int      @id @default(autoincrement())
  email        String   @unique
  status       String   @default("active")
  subscribedAt DateTime @default(now()) @map("subscribed_at")
  createdAt    DateTime @default(now()) @map("created_at")
  updatedAt    DateTime @updatedAt @map("updated_at")

  @@map("subscribers")
}

// Email Campaigns
model Campaign {
  id             Int      @id @default(autoincrement())
  subject        String
  content        String
  recipientCount Int      @default(0) @map("recipient_count")
  sentAt         DateTime @default(now()) @map("sent_at")
  createdAt      DateTime @default(now()) @map("created_at")

  @@map("campaigns")
}

// Admin Users
model Admin {
  id        Int      @id @default(autoincrement())
  username  String   @unique
  password  String
  email     String?
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@map("admins")
}

// Contact Form Submissions
model ContactSubmission {
  id        Int      @id @default(autoincrement())
  name      String
  email     String
  subject   String
  message   String
  status    String   @default("unread")
  createdAt DateTime @default(now()) @map("created_at")

  @@map("contact_submissions")
}

// Membership Applications
model MembershipApplication {
  id              Int      @id @default(autoincrement())
  firstName       String   @map("first_name")
  lastName        String   @map("last_name")
  email           String
  phone           String
  membershipType  String   @map("membership_type")
  organization    String?
  practiceArea    String?  @map("practice_area")
  yearsOfPractice Int?     @map("years_of_practice")
  status          String   @default("pending")
  createdAt       DateTime @default(now()) @map("created_at")
  updatedAt       DateTime @updatedAt @map("updated_at")

  @@map("membership_applications")
}
